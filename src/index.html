<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three.js Template</title>
    <style>
        body {
            margin: 0;
        }

        canvas {
            display: block;
        }
    </style>
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!--light source implementation-->

    <script>
        let scene, camera, renderer, geometry, material, cube, textureLoader, edges, lines;
        // array 
        let cubes = [];

        class Cube {
            constructor(x, y, z, color, rotationSpeed) {
                this.geometry = new THREE.BoxGeometry(1, 1, 1);
                this.textureLoader = new THREE.TextureLoader();
                this.texture = this.textureLoader.load('../assets/bilder/image1'); 
                this.material = new THREE.MeshLambertMaterial({ color: 0x008080 });
                this.cube = new THREE.Mesh(this.geometry, this.material);
                scene.add(this.cube);
                // white outliner
                this.edges = new THREE.EdgesGeometry(this.geometry);
                this.lines = new THREE.LineSegments(this.edges, new THREE.LineBasicMaterial({ color: 0xffffff, linewidth: 15 }));
                this.lines.scale.set(1.01, 1.01, 1.01);
                this.cube.add(this.lines);
                // position 
                this.cube.position.set(x, y, z);
                // rotation speed
                this.rotationSpeed = rotationSpeed;
                this.clock = new THREE.Clock();
            }

            animate() {
                // Your animation code here
                let deltaTime = this.clock.getDelta();
                this.cube.rotation.y += this.rotationSpeed.y * deltaTime;
                this.cube.rotation.x += this.rotationSpeed.x * deltaTime;
                this.cube.rotation.z += this.rotationSpeed.z * deltaTime;
            }
        }

        function createCube() {
            cubes.push(new Cube(0, 0, 0, 0x3498db, { x: 0.5, y: 0.2, z: 0.5 }));
            cubes.push(new Cube(1, 1, 1, 0x3498db, { x: 0.01, y: 0.05, z: 0.01 }));
            cubes.push(new Cube(-1, -1, -1, 0x3498db, { x: 0.01, y: 0.05, z: 0.4 }));
        }

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;
            renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);
        }

      
        function animateCubes() {
            cubes.forEach(Cube => Cube.animate());
        }

        function animate() {
            requestAnimationFrame(animate);
            animateCubes();
            renderer.render(scene, camera);
        }

        function light() {
            lightHemisphere = new THREE.HemisphereLight(0xffffbb, 0x080820, 1);
            helper = new THREE.HemisphereLightHelper(lightHemisphere, 1);
            lightHemisphere.position.set(0, 0, 10);
            scene.add(lightHemisphere); // Add the light to the scene
            scene.add(helper); // Add the helper to the scene
        }

        init();
        createCube();
        light();
        animate();
    </script>
</body>

</html>
